<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>DSA Lab System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f4f7f9;
      --card: #ffffff;
      --primary: #2f9d5b;
      --primary-soft: #e2f4ea;
      --text-main: #222831;
      --text-muted: #6b7280;
      --danger: #e53935;
      --border: #dde3ea;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 12px 30px rgba(15, 23, 42, 0.12);
      --shadow-light: 0 6px 16px rgba(15, 23, 42, 0.08);
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #e8f5ff 0, #f4f7f9 45%, #f4f7f9 100%);
      min-height: 100vh;
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    .hidden { display: none; }

    .page-shell {
      width: 100%;
      max-width: 960px;
      background: linear-gradient(145deg, #ffffff 0, #f8fafc 35%, #ffffff 100%);
      box-shadow: var(--shadow-soft);
      border-radius: 24px;
      padding: 32px 24px 28px;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .page-shell { padding: 36px 40px 32px; }
    }

    .page-shell::before {
      content: "";
      position: absolute;
      inset-inline-start: -80px;
      inset-block-start: -80px;
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, rgba(47, 157, 91, 0.18), transparent 60%);
      pointer-events: none;
    }

    .page-shell::after {
      content: "";
      position: absolute;
      inset-inline-end: -120px;
      inset-block-end: -120px;
      width: 260px;
      height: 260px;
      background: radial-gradient(circle, rgba(34, 197, 94, 0.12), transparent 60%);
      pointer-events: none;
    }

    .page-content {
      position: relative;
      z-index: 1;
    }

    .app-title {
      font-weight: 800;
      font-size: 1.35rem;
      letter-spacing: 0.03em;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 4px;
    }

    .app-title span.logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #a7f3d0, #22c55e);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-size: 18px;
      box-shadow: 0 8px 18px rgba(22, 163, 74, 0.4);
    }

    .app-subtitle {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin-bottom: 24px;
    }

    /* ====== LOGIN ====== */
    .card {
      background: var(--card);
      border-radius: var(--radius-lg);
      padding: 24px 20px 20px;
      box-shadow: var(--shadow-light);
      max-width: 420px;
      margin-inline: auto;
    }

    .card-header {
      text-align: center;
      margin-bottom: 18px;
    }

    .card-header h2 {
      margin: 0 0 8px;
      font-size: 1.25rem;
    }

    .card-header p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 6px;
      color: var(--text-main);
    }

    .input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      font-size: 0.95rem;
      outline: none;
      background-color: #f9fafb;
      transition: border-color 0.15s, box-shadow 0.15s, background-color 0.15s;
    }

    .input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.5);
      background-color: #ffffff;
    }

    .field {
      margin-bottom: 14px;
    }

    .btn {
      width: 100%;
      padding: 10px 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #16a34a, #22c55e);
      color: #ffffff;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      box-shadow: 0 10px 18px rgba(22, 163, 74, 0.35);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: transform 0.1s, box-shadow 0.1s, opacity 0.1s;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 26px rgba(22, 163, 74, 0.45);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 6px 14px rgba(22, 163, 74, 0.3);
      opacity: 0.9;
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #111827;
      box-shadow: none;
    }

    .btn-secondary:hover {
      box-shadow: 0 4px 10px rgba(17, 24, 39, 0.15);
    }

    .hint {
      margin-top: 10px;
      font-size: 0.8rem;
      color: var(--text-muted);
      text-align: center;
    }

    /* ====== HOME ====== */
    .home-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .welcome-block {
      max-width: 520px;
    }

    .welcome-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .welcome-sub {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .tag-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 10px;
      border-radius: 999px;
      background: var(--primary-soft);
      color: #166534;
      font-size: 0.78rem;
      margin-top: 10px;
    }

    .user-chip {
      padding: 8px 12px;
      background: #f3f4f6;
      border-radius: 999px;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .user-avatar {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: linear-gradient(135deg, #16a34a, #4ade80);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 0.85rem;
    }

    .home-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .tile {
      background: var(--card);
      border-radius: var(--radius-md);
      padding: 16px 14px;
      box-shadow: var(--shadow-light);
      cursor: pointer;
      border: 1px solid transparent;
      display: flex;
      flex-direction: column;
      gap: 10px;
      transition: transform 0.1s, box-shadow 0.1s, border-color 0.1s;
    }

    .tile:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.14);
      border-color: #bbf7d0;
    }

    .tile-header {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .tile-icon {
      width: 40px;
      height: 40px;
      border-radius: 16px;
      background: #ecfdf3;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
    }

    .tile-title {
      font-weight: 700;
      font-size: 0.98rem;
    }

    .tile-sub {
      font-size: 0.82rem;
      color: var(--text-muted);
      line-height: 1.5;
    }

    /* ====== RECEIVE CASE PAGE ====== */
    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }

    .section-title {
      font-size: 1.15rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .section-title span.badge {
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--primary-soft);
      color: #166534;
      font-size: 0.75rem;
    }

    .section-sub {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 16px;
    }

    .two-col {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 14px;
    }

    .readonly {
      background-color: #eef2f7;
      color: #4b5563;
    }

    .signature-box {
      margin-top: 12px;
      border-radius: var(--radius-md);
      border: 1px dashed #cbd5e1;
      padding: 10px;
      background: #f9fafb;
    }

    .signature-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      font-size: 0.82rem;
      color: var(--text-muted);
    }

    canvas#signaturePad {
      width: 100%;
      height: 160px;
      background: #ffffff;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      touch-action: none;
    }

    .sig-actions {
      margin-top: 8px;
      display: flex;
      justify-content: flex-end;
    }

    .btn-mini {
      padding: 6px 10px;
      border-radius: 999px;
      border: none;
      font-size: 0.78rem;
      cursor: pointer;
      background: #e5e7eb;
    }

    .form-actions {
      margin-top: 18px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    /* ====== STATS LOCK & STATS ====== */
    .lock-card {
      max-width: 420px;
      margin-inline: auto;
      background: var(--card);
      border-radius: var(--radius-lg);
      padding: 22px 20px 20px;
      box-shadow: var(--shadow-light);
      text-align: center;
    }

    .lock-icon {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      margin-inline: auto 10px;
      margin-bottom: 12px;
      background: #fef3c7;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6rem;
    }

    .lock-title {
      font-size: 1.05rem;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .lock-sub {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap: 14px;
      margin-top: 10px;
    }

    .stat-card {
      background: var(--card);
      border-radius: var(--radius-md);
      padding: 12px 12px 10px;
      box-shadow: var(--shadow-light);
      border-inline-start: 4px solid #bbf7d0;
    }

    .stat-label {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .stat-value {
      font-size: 1.4rem;
      font-weight: 800;
      color: #166534;
      margin-bottom: 4px;
    }

    .stat-bar {
      margin-top: 6px;
      height: 6px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
    }

    .stat-bar-fill {
      height: 100%;
      border-radius: inherit;
      background: linear-gradient(90deg, #22c55e, #4ade80);
      width: 65%;
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .top-row .btn-secondary {
      width: auto;
      padding-inline: 12px;
      font-size: 0.8rem;
    }

    /* Small helper text */
    .tiny-note {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 4px;
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <div class="page-content">

      <!-- ======= GLOBAL HEADER (title) ======= -->
      <div class="app-title">
        <span class="logo-mark">DS</span>
        DSA Lab System
      </div>
      <div class="app-subtitle">
        Ù†Ø¸Ø§Ù… Ø¨Ø³ÙŠØ· Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙÙŠ Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ù†Ø§Ù†.
      </div>

      <!-- ======= LOGIN PAGE ======= -->
      <section id="loginPage">
        <div class="card">
          <div class="card-header">
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <p>Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª ğŸ¤  
              <br />Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ù„Ù„Ø¨Ø¯Ø¡.</p>
          </div>
          <div class="field">
            <label for="usernameInput">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… / Name</label>
            <input id="usernameInput" class="input" type="text" placeholder="Ù…Ø«Ø§Ù„: Wedad" />
          </div>
          <div class="field">
            <label for="passwordInput">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± / Password</label>
            <input id="passwordInput" class="input" type="password" placeholder="â€¢â€¢â€¢â€¢" />
          </div>
          <button class="btn" onclick="login()">
            Ø¯Ø®ÙˆÙ„
          </button>
          <div class="hint">
            ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: <strong>1234</strong> â€“ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯.
          </div>
        </div>
      </section>

      <!-- ======= HOME PAGE ======= -->
      <section id="homePage" class="hidden">
        <div class="home-header">
          <div class="welcome-block">
            <div class="welcome-title" id="welcomeMain"></div>
            <div class="welcome-sub" id="welcomeSub"></div>
            <div class="tag-pill">
              â¤ï¸ Ø¬Ø§Ù‡Ø²ÙŠÙ† Ù†Ø´ÙˆÙ Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ &nbsp;|&nbsp; Ready to make today better?
            </div>
          </div>
          <div>
            <div class="user-chip">
              <span class="user-avatar" id="userAvatar">W</span>
              <div>
                <div id="userNameLabel">WEDAD</div>
                <small style="color:var(--text-muted);">ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¹Ù…Ù„ â€“ Lab Team</small>
              </div>
            </div>
          </div>
        </div>

        <div class="home-grid">
          <!-- Receive Case -->
          <article class="tile" onclick="openReceivePage()">
            <div class="tile-header">
              <div class="tile-icon">ğŸ“¦</div>
              <div>
                <div class="tile-title">Ø§Ø³ØªÙ„Ø§Ù… Ø­Ø§Ù„Ø© / Receive Case</div>
                <div class="tile-sub">
                  ØªØ³Ø¬ÙŠÙ„ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø¹Ù…Ù„ Ù…Ø¹ ÙƒÙˆØ¯ ÙˆØªØªÙˆÙ‚ÙŠØ¹ Ø±Ù‚Ù…ÙŠ Ø¨Ø³ÙŠØ·.
                </div>
              </div>
            </div>
            <div class="tile-sub">
              Ready to receive new dental lab cases with a unique code & signature.
            </div>
          </article>

          <!-- Statistics -->
          <article class="tile" onclick="openStatsLock()">
            <div class="tile-header">
              <div class="tile-icon">ğŸ“Š</div>
              <div>
                <div class="tile-title">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª / Statistics</div>
                <div class="tile-sub">
                  Ø¹Ø±Ø¶ Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ‹Ø§ØŒ Ø´Ù‡Ø±ÙŠÙ‹Ø§ ÙˆØ³Ù†ÙˆÙŠÙ‹Ø§ â€“ Ø¯Ø®ÙˆÙ„ Ø®Ø§Øµ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„Ø©.
                </div>
              </div>
            </div>
            <div class="tile-sub">
              Only the supervisor can unlock this board with a secret code.
            </div>
          </article>

          <!-- Daily Motivation -->
          <article class="tile">
            <div class="tile-header">
              <div class="tile-icon">ğŸ’š</div>
              <div>
                <div class="tile-title">Ù†Ø¨Ø¶ Ø§Ù„ÙŠÙˆÙ… / Daily Boost</div>
                <div class="tile-sub">
                  Ø¬Ù…Ù„Ø© ØªØ­ÙÙŠØ²ÙŠØ© Ø®ÙÙŠÙØ© ØªØ°ÙƒÙ‘Ø± Ø§Ù„ÙØ±ÙŠÙ‚ Ø£Ù† ÙƒÙ„ Ø­Ø§Ù„Ø© ØªØ¹Ù†ÙŠ Ø§Ø¨ØªØ³Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©.
                </div>
              </div>
            </div>
            <div class="tile-sub" id="motivationDaily">
              Every clean record is a saved smile â€“ keep going, team!
            </div>
          </article>
        </div>

        <div class="top-row" style="margin-top:20px;">
          <div class="tiny-note">
            ÙŠÙ…ÙƒÙ†Ùƒ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ù‡Ù†Ø§ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù„ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„.
          </div>
          <button class="btn-secondary" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </div>
      </section>

      <!-- ======= RECEIVE CASE PAGE ======= -->
      <section id="receivePage" class="hidden">
        <div class="section-header">
          <div class="section-title">
            ğŸ“¦ Ø§Ø³ØªÙ„Ø§Ù… Ø­Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…Ø¹Ù…Ù„
            <span class="badge">Receive case from lab</span>
          </div>
          <button class="btn-secondary" onclick="showHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        </div>
        <div class="section-sub">
          ÙŠØ§ Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ ğŸ¤  
          Ø¬Ø§Ù‡Ø²ÙŠÙ† Ù†Ø³ØªÙ‚Ø¨Ù„ Ø­Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŸ  
          <br />Let's record a new case and make it the start of good news ğŸ’š
        </div>

        <form id="receiveForm" onsubmit="submitCase(event)">
          <div class="two-col">
            <div class="field">
              <label for="caseCode">ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„Ø© (ÙŠÙˆÙ„Ù‘Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§)</label>
              <input id="caseCode" class="input readonly" type="text" readonly />
            </div>
            <div class="field">
              <label for="patientName">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶ / Patient Name</label>
              <input id="patientName" class="input" type="text" required />
            </div>
          </div>

          <div class="two-col">
            <div class="field">
              <label for="caseType">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„Ø© / Case Type</label>
              <input id="caseType" class="input" type="text" placeholder="Ù…Ø«Ø§Ù„: Full denture, Crownâ€¦" />
            </div>
            <div class="field">
              <label for="fromClinic">Ù…Ù† Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© / From Clinic</label>
              <input id="fromClinic" class="input" type="text" placeholder="Clinic number / doctor name" />
            </div>
          </div>

          <div class="two-col">
            <div class="field">
              <label for="receiveDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… / Received Date</label>
              <input id="receiveDate" class="input" type="date" />
            </div>
            <div class="field">
              <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© / Notes</label>
              <input id="notes" class="input" type="text" placeholder="Optional" />
            </div>
          </div>

          <div class="signature-box">
            <div class="signature-header">
              <span>ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© / Ø§Ù„Ø¹Ø§Ù…Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… âœï¸</span>
              <span>Helper / Runner Signature</span>
            </div>
            <canvas id="signaturePad"></canvas>
            <div class="sig-actions">
              <button type="button" class="btn-mini" onclick="clearSignature()">Ù…Ø³Ø­ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹</button>
            </div>
            <div class="tiny-note">
              ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø¨Ø§Ù„Ù…Ø§ÙˆØ³ Ø£Ùˆ Ø§Ù„Ù„Ù…Ø³.  
              You can sign with mouse or touch.
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn" style="width:auto;">
              Ø­ÙØ¸ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… âœ…
            </button>
            <button type="button" class="btn-secondary" style="width:auto;" onclick="resetReceiveForm()">
              Ø­Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
            </button>
          </div>
        </form>
      </section>

      <!-- ======= STATS LOCK PAGE ======= -->
      <section id="statsLockPage" class="hidden">
        <div class="lock-card">
          <div class="lock-icon">ğŸ”’</div>
          <div class="lock-title">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª â€“ Statistics Board</div>
          <p class="lock-sub">
            Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø© ÙÙ‚Ø·.  
            Ø£Ø¯Ø®Ù„ÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ Ù„Ø¹Ø±Ø¶ Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚.
          </p>
          <div class="field">
            <label for="statsCodeInput">Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</label>
            <input id="statsCodeInput" class="input" type="password" placeholder="â€¢â€¢â€¢â€¢" />
          </div>
          <button class="btn" style="margin-top:8px;" onclick="unlockStats()">
            Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
          </button>
          <button class="btn-secondary" style="margin-top:8px;" onclick="showHome()">
            Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
          </button>
          <div class="hint">
            Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: <strong>2025</strong> â€“ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯.
          </div>
        </div>
      </section>

      <!-- ======= STATS PAGE ======= -->
      <section id="statsPage" class="hidden">
        <div class="section-header">
          <div class="section-title">
            ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª
            <span class="badge">Lab & Clinic stats</span>
          </div>
          <button class="btn-secondary" onclick="showHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        </div>
        <div class="section-sub">
          ÙŠØ§ Ù…Ø±Ø­Ø¨Ø§ Ù…Ø´Ø±ÙØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ğŸ¤  
          Ready to see how strong the team is today?  
          <br />Ù‡Ù†Ø§ Ù†Ø´ÙˆÙ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø§Ù„Ø§Øªâ€¦ ÙƒÙ„ Ø±Ù‚Ù… ÙŠØ¹Ù†ÙŠ Ø¥Ù†Ø¬Ø§Ø² ÙˆØ§Ø¨ØªØ³Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸŒŸ
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">Ø­Ø§Ù„Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ / This week</div>
            <div class="stat-value" id="statWeek">24</div>
            <div class="tiny-note">Cases received & recorded.</div>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="width:70%;"></div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-label">Ø­Ø§Ù„Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø± / This month</div>
            <div class="stat-value" id="statMonth">96</div>
            <div class="tiny-note">Across all clinic sections.</div>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="width:55%;"></div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-label">Ø­Ø§Ù„Ø§Øª Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø© / This year</div>
            <div class="stat-value" id="statYear">642</div>
            <div class="tiny-note">Total completed lab cases.</div>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="width:80%;"></div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script>
    // ====== CONFIGURABLE CODES ======
    const LOGIN_PASSWORD = "1234"; // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¹Ø§Ù…Ø©
    const STATS_CODE = "2025";     // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

    // ====== HELPERS ======
    const $ = (id) => document.getElementById(id);

    function showSection(id) {
      ["loginPage", "homePage", "receivePage", "statsLockPage", "statsPage"].forEach(sec => {
        $(sec).classList.add("hidden");
      });
      $(id).classList.remove("hidden");
    }

    // ====== LOGIN LOGIC ======
    function login() {
      const name = $("usernameInput").value.trim();
      const pass = $("passwordInput").value.trim();

      if (!name) {
        alert("ÙØ¶Ù„Ø§Ù‹ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….");
        return;
      }
      if (pass !== LOGIN_PASSWORD) {
        alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.");
        return;
      }

      // Set user display
      const upperName = name.toUpperCase();
      $("userNameLabel").textContent = upperName;
      $("userAvatar").textContent = upperName.charAt(0);

      setWelcomeMessages();
      setDailyMotivation();
      showSection("homePage");
      $("passwordInput").value = "";

      // Generate initial case code & set default date
      prepareReceiveForm();
    }

    function logout() {
      $("usernameInput").value = "";
      $("passwordInput").value = "";
      showSection("loginPage");
    }

    // ====== WELCOME & MOTIVATION ======
    function setWelcomeMessages() {
      const messages = [
        {
          main: "ÙŠØ§ Ù…Ø±Ø­Ø¨Ø§ ğŸ¤ Ø¬Ø§Ù‡Ø²ÙŠÙ† Ù†Ø´ÙˆÙ Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ",
          sub: "ÙŠØ§Ø±Ø¨ ØªØ¨Ø´Ù‘Ø± Ø®Ø·ÙˆØ§ØªÙƒÙ… Ø§Ù„ÙŠÙˆÙ… Ø¨Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø². Every case you track is a smile you save."
        },
        {
          main: "Ù†ÙˆØ±ØªÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ§ Ø¨Ø·Ù„Ø© Ø§Ù„Ù…Ø¹Ù…Ù„ ğŸ’š",
          sub: "Ø§Ù„ÙŠÙˆÙ… ÙŠÙˆÙ… Ø¥Ù†Ø¬Ø§Ø²â€¦ Ø¬Ø§Ù‡Ø²Ø©ØŸ Letâ€™s make the workflow smoother than ever."
        },
        {
          main: "Welcome back to DSA Lab System âœ¨",
          sub: "Small organized steps create big results for patients and the team."
        }
      ];
      const pick = messages[Math.floor(Math.random() * messages.length)];
      $("welcomeMain").textContent = pick.main;
      $("welcomeSub").textContent = pick.sub;
    }

    function setDailyMotivation() {
      const quotes = [
        "ÙƒÙ„ Ø­Ø§Ù„Ø© ØªØ¶ÙŠÙ Ø±Ù‚Ù…Ù‹Ø§ ÙÙŠ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ©ØŒ Ù„ÙƒÙ†Ù‡Ø§ ØªØµÙ†Ø¹ ÙØ±Ù‚Ù‹Ø§ ÙƒØ¨ÙŠØ±Ù‹Ø§ ÙÙŠ Ø­ÙŠØ§Ø© Ù…Ø±ÙŠØ¶ ğŸ’š",
        "You donâ€™t just handle cases, you handle peopleâ€™s confidence in their smiles.",
        "Ø§Ù„ÙŠÙˆÙ… Ù†Ø±ØªØ¨ Ø§Ù„Ø´ØºÙ„â€¦ ÙˆØ¨ÙƒØ±Ø© ØªØ±ØªØ¨ Ù„Ù†Ø§ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ø³ØªÙ‚Ø¨Ù„ Ø£Ù‚ÙˆÙ‰ Ù„Ù„Ø¹ÙŠØ§Ø¯Ø© ğŸ’ª",
        "Behind every clean record thereâ€™s a focused assistant and a calm lab ğŸ’š",
        "Ø¥Ø°Ø§ Ø§Ø±ØªØ¨Ùƒ Ø§Ù„ÙŠÙˆÙ…â€¦ Ø±ØªÙ‘Ø¨ÙŠ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…ØŒ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØ±Ø¬Ø¹Ùƒ Ù„Ù„ÙˆØ¶ÙˆØ­ ğŸŒ¿"
      ];
      $("motivationDaily").textContent =
        quotes[Math.floor(Math.random() * quotes.length)];
    }

    // ====== NAVIGATION FROM HOME ======
    function showHome() {
      showSection("homePage");
    }

    function openReceivePage() {
      prepareReceiveForm();
      showSection("receivePage");
    }

    function openStatsLock() {
      $("statsCodeInput").value = "";
      showSection("statsLockPage");
    }

    // ====== RECEIVE CASE FORM ======
    function generateCaseCode() {
      const now = new Date();
      const part =
        now.getFullYear().toString().slice(-2) +
        String(now.getMonth() + 1).padStart(2, "0") +
        String(now.getDate()).padStart(2, "0");
      const random = Math.floor(Math.random() * 900 + 100); // 3-digit
      return `DSA-${part}-${random}`;
    }

    function prepareReceiveForm() {
      $("caseCode").value = generateCaseCode();
      const today = new Date().toISOString().slice(0, 10);
      $("receiveDate").value = today;
      clearSignature();
    }

    function resetReceiveForm() {
      $("patientName").value = "";
      $("caseType").value = "";
      $("fromClinic").value = "";
      $("notes").value = "";
      prepareReceiveForm();
    }

    function submitCase(event) {
      event.preventDefault();
      // Ù‡Ù†Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù…Ù…ÙƒÙ† Ù†Ø¶ÙŠÙ Ø­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø§Ù„Ø¢Ù† ÙÙ‚Ø· Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
      alert("ØªÙ… Ø­ÙØ¸ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­ ğŸ’š\nThank you for keeping the workflow clear.");
      resetReceiveForm();
      showHome();
    }

    // ====== SIGNATURE PAD ======
    const canvas = document.getElementById("signaturePad");
    const ctx = canvas.getContext("2d");
    let drawing = false;
    let lastX = 0, lastY = 0;

    function resizeCanvas() {
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width * window.devicePixelRatio;
      canvas.height = rect.height * window.devicePixelRatio;
      ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
      ctx.lineWidth = 2;
      ctx.lineCap = "round";
      ctx.strokeStyle = "#111827";
    }

    function startDraw(x, y) {
      drawing = true;
      [lastX, lastY] = [x, y];
    }

    function drawLine(x, y) {
      if (!drawing) return;
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(x, y);
      ctx.stroke();
      [lastX, lastY] = [x, y];
    }

    function stopDraw() {
      drawing = false;
    }

    function clearSignature() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // Mouse events
    canvas.addEventListener("mousedown", (e) => {
      const rect = canvas.getBoundingClientRect();
      startDraw(e.clientX - rect.left, e.clientY - rect.top);
    });
    canvas.addEventListener("mousemove", (e) => {
      const rect = canvas.getBoundingClientRect();
      drawLine(e.clientX - rect.left, e.clientY - rect.top);
    });
    canvas.addEventListener("mouseup", stopDraw);
    canvas.addEventListener("mouseleave", stopDraw);

    // Touch events
    canvas.addEventListener("touchstart", (e) => {
      e.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const t = e.touches[0];
      startDraw(t.clientX - rect.left, t.clientY - rect.top);
    }, { passive: false });
    canvas.addEventListener("touchmove", (e) => {
      e.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const t = e.touches[0];
      drawLine(t.clientX - rect.left, t.clientY - rect.top);
    }, { passive: false });
    canvas.addEventListener("touchend", stopDraw);

    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    // ====== STATS LOCK ======
    function unlockStats() {
      const code = $("statsCodeInput").value.trim();
      if (code !== STATS_CODE) {
        alert("Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­. ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª.");
        return;
      }
      showSection("statsPage");
    }
  </script>
</body>
</html>
